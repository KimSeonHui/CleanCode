# Clean Code 4장 주석
>"코드를 깔끔하게 정리하고 표현력을 강화하는 방향으로, 그래서 애초에 주석이 필요 없는 방향으로 에너지를 쏟겠다.
우리는 주석을 가능한 줄이도록 꾸준히 노력해야 한다."

---
## 주석은 나쁜 코드를 보완하지 못한다
주석을 추가하는 일반적인 이유 : 코드 품질이 나쁘기 때문
주석을 달아야겠다 X -> 코드를 정리해야 한다 O

## 코드로 의도를 표현하라!
주석으로 달려는 설명을 함수로 만들어 표현해도 충분
```
//직원에게 복지 혜택을 받을 자격이 있는지 검사한다.
if((employee.flags & HOURLY_FLAG) && 
   (employee.age>65))

```
위의 코드를
```
if(employee.isEligibleForFullBenefits())

```
이렇게 수정할 수 있음

## 좋은 주석✅
### 법적인 주석
법적인 이유로 특정 주석을 넣으라고 명시하는 경우
 - ex) 각 소스 파일 첫머리에 들어가는 저작권 정보, 소유권 정보
 
### 정보를 제공하는 주석
기본적인 정보를 주석으로 제공하면 편리
  ex) 

```
//테스트 중인 Responder 인스턴스를 반환한다.
protected abstract Responder responderInstance();
```


### 의도를 설명하는 주석
코드를 짜면서 개발자의 결정에 깔린 의도를 설명하는 주석
- ex) 두 객체를 비교할 때 다른 어떤 객체보다 자기 객체에 높은 우선 순위를 주기로 한 코드를 설명하는 주석

### 의미를 명료하게 밝히는 주석
인수나 반환값이 표준 라이브러리나 변경하지 못하는 코드에 속할 때 의미를 명료하게 밝히는 주석이 유용

주석이 올바른지 검증하기 쉽지 않기 때문에 주석이 위험하기도 하다. 그렇기 때문에 주석을 달기 전에 더 나은 방법이 없는지를 고민하고 정확히 달도록 주의해야한다.

### 결과를 경고하는 주석
다른 프로그래머에게 결과를 경고 할 목적으로 주석 사용

 ex)
```
public static SimpleDateFormat makeStandardHttpDateFormat(){
     // SimpleDateFormat은 스레드에 안전하지 못하다
    // 따라서 각 인스턴스를 독립적으로 생성해야한다.
    ....
}
```

### TODO 주석
'앞으로 할 일', 프로그래머가 필요하다 여기지만 당장 구현하기 어려운 업무를 기술하는 주석

- ex) 
```
//TODO-MdM 현재 필요하지 않다.
protected VersionInfo makeVersion() throws Exception {
 	   return null;
       }
```
  
      

### 중요성을 강조하는 주석
대수롭지 않다고 여겨질 뭔가의 중요성을 강조하기 위해서도 사용

 ex)
```
String ListItemContent = match.group(3).trim();
//여기서 trim은 정말 중요하다.trim 함수는 문자열에서 시작 공백을 제거한다
//문자열에 시작 공백이 잇으면 다른 문자열로 인식되기 때문이다.
```

### 공개 API에서 Javadocs
공개 API를 구현한다면 반드시 훌륭한 Javadocs를 작성

## 나쁜 주석❌
### 주절거리는 주석
>**주석을 달기로 결정했다면 충분한 시간을 들여 최고의 주석을 달도록 노력해야 함**

```
try{
....
}
catch(IOException e) {
  //속성 파일이 없다면 기본값을 모두 메모리로 읽어 들였다는 의미다.
  }
  
 ```
 
 이해가 안 되어 다른 모듈까지 뒤져야 하는 주석은 독자와 제대로 소통하지 못하는 주석이다.
 
 ### 같은 이야기를 중복하는 주석
 코드의 내용을 그대로 중복하는 주석
  ex)
```
 // 관련된 logger 이름
 protected String logName = null;
 
 //컨테이너와 관련된 Manager 구현
 protected Manager manager = null;
 
```

### 오해할 여지가 있는 주석
실제 코드가 동작하는 것과 살짝 다른 정보로 주석이 달려있을 경우 

### 의무적으로 다른 주석
모든 함수에 Javadocs를 달거나 모든 변수에 주석을 달아야 한다는 규칙은 코드를 복잡하게 만들고 잘못된 정보를 제공할 여지를 만들게 됨



```
/*
@param tite CD 제목
@param author CD 저자
*/

public void addCD(String title, String author) {
  CD cd = new CD();
  cd.title = title;
  cd.author = author;
  }
```

### 이력을 기록하는 주석
모듈에 가한 변경을 기록하는 일지로 사용하는 주석

소스 코드 관리 시스템이 없는 시절에는 유용했으나 지금은 혼란만 가중되므로 완전히 제거하는 것이 좋음

### 있으나 마나 한 주석
너무 당연한 사실을 언급하며 새로운 정보를 제공하지 못하는 주석

```
// 기본 생성자
protected AnnualDateRule() {

}

//월 중 일자
private int dayOfMonth;

```

### 무서운 잡음
수행 하는 목적 없이 작성된 주석

ex)
```
//The name
private String name;

//The version
private String version;

```


### 함수나 변수로 표현할 수 있다면 주석을 달지 마라

주석이 필요하지 않도록 코드를 개선하는 편이 더 좋음.

 ex) 
```
//직원에게 복지 혜택을 받을 자격이 있는지 검사한다.
if((employee.flags & HOURLY_FLAG) && 
   (employee.age>65))

if(employee.isEligibleForFullBenefits())

```
 
### 위치를 표시하는 주석
소스 파일에서 특정 위치를 표시하기 위해 주석 사용하는 경우

ex) 
```
// Actions /////////////////////////

```
너무 자주 사용하지 않는다면 눈에 띄며 주의를 환기하는 역할을 하기 때문에 반드시 필요할 때만, 아주 드물게 사용하는 편이 좋음

### 닫는 괄호에 다는 주석
중첩이 심하고 장환한 함수라면 의미가 있을 수도 있지만 작고 캡슐화된 함수에는 필요하지 않음.
닫는 괄호에 주석을 달아야겠다는 생각이 든다면 함수를 줄이려고 시도해야 함.

### 공로를 돌리거나 저자를 표시하는 주석
소스 코드 관리 시스템에 저장하면 되기 때문에 코드에 주석으로 표시하는 것은 불필요한 정보임

### 주석으로 처리한 코드
주석으로 처리한 코드는 이유가 있어서 남겨놨을거라고, 중요하니까 지우면 안 된다고 생각하기 때문에 쓸모없는 코드임에도 지워지지 않을 때가 있다.

소스코드 관리 시스템이 코드를 기억해주기 때문에 주석으로 처리할 필요 없이 삭제하는 것이 좋다.

### HTML 주석
주석을 뽑아 웹 페이지에 올릴 거라면 주석에 HTML 태그를 삽입해야 하는 책임은 프로그래머가 아니라 도구가 져야한다.

```
/*
<p/>
<pre>
용법 :
 ........
 </pre>
 */
 
 ```
 
 ### 전역 정보
 >주석을 달아야 한다면 근처에 있는 코드만 기술하라. 코드 일부에 주석을 달면서 시스템의 전반적인 정보를 기술하지 마라.
 
 ```
 /*
 적합성 테스트가 동작하는 포트 : 기본값은 <b>8082</b>
 
 @param fitnessePort
 */
 public void setFitnessePort(int fitnessePort) {
   this.fitnessPort = fitnessePort;
   }
   
   ```
   함수 자체가 주석에 나와있는 포트 기본값을 통제하지 않음.
   
   ### 너무 많은 정보
   불필요하며 관련 없는 정보를 넣어놓는 주석
   
   - ex) 특정 정보 관련 역사
   
 
### 모호한 관계
>주석과 주석이 설명하는 코드는 둘 사이 관계가 명백해야 한다.
 
 
 코드만으로 설명이 부족할 때 주석이 코드의 부족한 설명을 채우는 방식으로 작성되어야 한다. 주석 자체가 다시 설명을 요구해서는 안된다.
 
 ### 함수 헤더
 >짧고 한 가지만 수행하며 이름을 잘 붙인 함수 > 주석으로 헤더를 추가한 함수
 
 ### 비공개 코드에서 Javadocs
  Javadocs 주석이 요구하는 형식으로 인해 코드만 보기 싫고 산만해지기 때문에 공개하지 않을 코드라면 Javadocs는 사용하지 않는게 좋음

---
## 느낀점🙊
사실 지금까지는 주석을 수업 때 필기용으로 쓰거나 코드 짜다가 궁금한 거를 메모하는 정도로 사용을 했다. 내가 이렇게 사용할 수 있었던 건 코드를 누군가와 공유하는 것이 아니라 나 혼자 보는 것이기 때문에 가능했던 것 같다. 
###### 지금 생각하면 진짜 코드 더럽게 짰던 것 같다..ㅎㅎ
메모로 사용했던 주석을 빼더라도 이번 챕터를 읽으면서 진짜 많이 찔렸던 건 주석으로 처리해 놓은 코드였다. 진짜 내가 많이 하는 거여서...
테스트 코드를 짤 때 해놨다가 그대로 방치해둔 경우도 많았던 것 같아서 많이 찔렸다. 이 책을 읽기 전까지는 그게 잘못된 건 줄 몰랐다. 코드를 나 혼자 짜니까 그게 필요없는 코드인 줄 나는 이미 아니까- 졸작으로 팀 프로젝트를 하고 있고 실무에 나가기 전에 미리 알게 되서 다행이라고 생각한다. 

진짜 읽으면 읽을수록 지금까지 내가 코드를 짰던 거는 '나 혼자'의 입장에서, '코드를 짜는 내가 읽고 이해하기 편한 방식'으로 코드를 짜왔다는 걸 느낀다. 그만큼 '함께 개발하는'입장에서 '코드를 읽는 개발자'의 입장에서 코드를 짜고 코드를 바라봐야 한다는 걸 많이 깨닫게 된다.